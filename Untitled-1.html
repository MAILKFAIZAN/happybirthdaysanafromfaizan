<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday Sana 💖</title>
    <style>
        /* ====== Base Styles ====== */
        :root {
            --bg1: #ffeff5;
            --bg2: #ffe6e6;
            --accent: #8b0000;
            --soft: #ff6b6b;
            --gold: #ffd700;
            --glass: rgba(255, 255, 255, 0.55);
            --max-width: 1200px;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Georgia', serif;
        }

        html, body {
            height: 100%;
        }

        body {
            min-height: 100vh;
            background: linear-gradient(135deg, var(--bg1) 0%, var(--bg2) 100%);
            color: var(--accent);
            -webkit-font-smoothing: antialiased;
            overflow-x: hidden;
        }

        /* ====== Background Elements ====== */
        .bg-layer {
            position: fixed;
            inset: 0;
            pointer-events: none;
            z-index: 0;
        }

        .petals {
            position: absolute;
            inset: 0;
            overflow: hidden;
        }

        .petal {
            position: absolute;
            background: linear-gradient(135deg, #ffb6c1, #ffd1dc);
            opacity: 0.85;
            border-radius: 50% 0 50% 0;
            transform-origin: center;
            animation: petalFall linear infinite;
            will-change: transform, opacity;
            filter: drop-shadow(0 6px 12px rgba(0, 0, 0, 0.08));
        }

        @keyframes petalFall {
            0% {
                transform: translateY(-10vh) rotate(0) scale(0.9);
                opacity: 0;
            }
            10% {
                opacity: 0.9;
            }
            100% {
                transform: translateY(110vh) rotate(360deg) scale(1.1);
                opacity: 0;
            }
        }

        .hearts {
            position: absolute;
            inset: 0;
        }

        .heart {
            position: absolute;
            font-size: 20px;
            opacity: 0;
            will-change: transform, opacity;
            animation: heartFloat 7s ease-in-out infinite;
            text-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
        }

        @keyframes heartFloat {
            0% {
                transform: translateY(0) scale(0.9);
                opacity: 0;
            }
            20% {
                opacity: 0.75;
            }
            100% {
                transform: translateY(-120px) scale(1.15);
                opacity: 0;
            }
        }

        .balloons {
            position: absolute;
            inset: 0;
        }

        .balloon {
            position: absolute;
            width: 36px;
            height: 48px;
            border-radius: 50%;
            background: var(--soft);
            opacity: 0.85;
            transform-origin: center;
            animation: balloonUp linear infinite;
            will-change: transform, opacity;
            box-shadow: 0 6px 18px rgba(0, 0, 0, 0.08);
        }

        @keyframes balloonUp {
            0% {
                transform: translateY(110vh) translateX(0) rotate(0);
            }
            100% {
                transform: translateY(-120px) translateX(20px) rotate(15deg);
            }
        }

        /* ====== Header / Hero ====== */
        header {
            position: relative;
            z-index: 2;
            min-height: 70vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 48px 20px;
        }

        .hero-card {
            max-width: var(--max-width);
            width: 100%;
            padding: 48px;
            border-radius: 18px;
            backdrop-filter: blur(6px);
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.35), rgba(255, 255, 255, 0.20));
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.08);
        }

        .title {
            font-size: 3.2rem;
            color: var(--accent);
            margin-bottom: 12px;
            line-height: 1.05;
            display: inline-block;
        }

        .typed {
            border-right: 2px solid var(--accent);
            padding-right: 6px;
            display: inline-block;
        }

        .sub {
            font-size: 1.05rem;
            color: rgba(139, 0, 0, 0.85);
            margin-top: 8px;
            font-style: italic;
        }

        /* ====== Music Control ====== */
        .music-control {
            position: fixed;
            right: 18px;
            top: 18px;
            z-index: 6;
            width: 56px;
            height: 56px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(255, 255, 255, 0.85);
            box-shadow: 0 8px 22px rgba(0, 0, 0, 0.12);
            cursor: pointer;
            border: none;
        }

        .music-control:focus {
            outline: 3px solid rgba(139, 0, 0, 0.12);
        }

        .sr-only {
            position: absolute;
            left: -10000px;
            top: auto;
            width: 1px;
            height: 1px;
            overflow: hidden;
        }

        /* ====== Countdown ====== */
        .countdown-section {
            padding: 48px 20px;
            display: flex;
            justify-content: center;
            background: var(--glass);
            z-index: 2;
        }

        .countdown-container {
            display: flex;
            gap: 18px;
            flex-wrap: wrap;
            justify-content: center;
            align-items: center;
            max-width: var(--max-width);
            width: 100%;
        }

        .countdown-item {
            min-width: 110px;
            padding: 18px;
            border-radius: 12px;
            background: linear-gradient(135deg, #fff6d6, #fff1b2);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.06);
            text-align: center;
        }

        .countdown-value {
            font-size: 2.1rem;
            font-weight: 700;
            color: var(--accent);
        }

        .countdown-label {
            font-size: 0.95rem;
            color: var(--accent);
            margin-top: 6px;
        }

        /* ====== Gallery ====== */
        .gallery-section {
            padding: 48px 20px;
            z-index: 2;
        }

        .gallery-container {
            display: flex;
            gap: 16px;
            justify-content: center;
            flex-wrap: wrap;
            max-width: var(--max-width);
            margin: 0 auto;
        }

        .gallery-item {
            width: 240px;
            height: 300px;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 14px 36px rgba(0, 0, 0, 0.08);
            transform: translateY(0);
            transition: transform 0.35s ease;
        }

        .gallery-item:hover {
            transform: translateY(-8px);
        }

        .gallery-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
            transition: transform 0.6s ease, filter 0.4s ease;
        }

        .gallery-item:hover .gallery-img {
            transform: scale(1.06);
            filter: blur(1.5px) saturate(1.05);
        }

        /* ====== Message & Gift ====== */
        .message-section {
            padding: 40px 20px;
            background: var(--glass);
            text-align: center;
            z-index: 2;
        }

        .romantic-message {
            font-size: 1.4rem;
            max-width: 920px;
            margin: 0 auto;
            line-height: 1.6;
            font-style: italic;
            color: var(--accent);
        }

        .gift-section {
            padding: 36px 20px;
            text-align: center;
            z-index: 2;
        }

        .gift-button {
            background: linear-gradient(135deg, var(--soft), #ff8e8e);
            color: white;
            border: none;
            padding: 14px 36px;
            border-radius: 999px;
            font-size: 1.1rem;
            box-shadow: 0 10px 26px rgba(255, 107, 107, 0.18);
            cursor: pointer;
            transition: transform 0.2s ease;
        }

        .gift-button:hover {
            transform: scale(1.05);
        }

        .gift-button:focus {
            outline: 3px solid rgba(139, 0, 0, 0.12);
        }

        /* ====== Popup ====== */
        .popup {
            position: fixed;
            inset: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(0, 0, 0, 0.7);
            z-index: 999;
            opacity: 0;
            visibility: hidden;
            transition: all 0.25s ease;
        }

        .popup.active {
            opacity: 1;
            visibility: visible;
        }

        .popup-content {
            background: white;
            padding: 28px;
            border-radius: 14px;
            max-width: 600px;
            width: 92%;
            position: relative;
            text-align: center;
        }

        .popup-close {
            position: absolute;
            right: 12px;
            top: 10px;
            background: none;
            border: none;
            font-size: 1.5rem;
            color: var(--accent);
            cursor: pointer;
        }

        .popup-title {
            color: var(--accent);
            margin-bottom: 12px;
        }

        .popup-message {
            line-height: 1.6;
            margin-bottom: 20px;
        }

        /* ====== Wishes Section ====== */
        .wishes-section {
            padding: 48px 20px;
            z-index: 2;
            background: var(--glass);
        }

        .wishes-container {
            max-width: var(--max-width);
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .wish-item {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.06);
        }

        .wish-author {
            font-weight: bold;
            margin-bottom: 8px;
            color: var(--accent);
        }

        /* ====== Footer ====== */
        footer {
            padding: 30px 20px;
            text-align: center;
            background: var(--accent);
            color: white;
            z-index: 2;
            position: relative;
        }

        /* ====== Responsive Design ====== */
        @media (max-width: 768px) {
            .title {
                font-size: 2rem;
            }

            .gallery-item {
                width: 200px;
                height: 250px;
            }

            .countdown-item {
                min-width: 88px;
                padding: 14px;
            }

            .hero-card {
                padding: 24px;
            }
        }

        @media (max-width: 480px) {
            .title {
                font-size: 1.6rem;
            }

            .gallery-item {
                width: 150px;
                height: 200px;
            }

            .countdown-container {
                gap: 12px;
            }

            .countdown-item {
                min-width: 70px;
                padding: 12px;
            }

            .countdown-value {
                font-size: 1.6rem;
            }
        }
    </style>
</head>
<body>
    <!-- ====== Background Decorations ====== -->
    <div class="bg-layer" aria-hidden="true">
        <div class="petals" id="petals"></div>
        <div class="hearts" id="hearts"></div>
        <div class="balloons" id="balloons"></div>
    </div>

    <!-- Background Music Section -->
<audio id="bg-music" autoplay loop>
  <!-- 👇 Yahan apni song file ka naam likho -->
  <source src="music/romantic.mp3" type="audio/mpeg">
  Your browser does not support the audio element.
</audio>

<script>
  // ✅ Try autoplay on page load
  window.addEventListener('load', () => {
    const music = document.getElementById('bg-music');
    music.volume = 0.6; // soft volume start
    setTimeout(() => {
      music.play().catch(() => {});
    }, 500);
  });

  // ✅ If autoplay blocked, start on first click/tap
  document.addEventListener('click', () => {
    const music = document.getElementById('bg-music');
    if (music.paused) {
      music.play().catch(() => {});
    }
  });
</script>




    <!-- ====== Header / Hero ====== -->
    <header>
        <div class="hero-card" role="banner" aria-live="polite">
            <h1 class="title">
                <span class="typed" id="typedTitle">Happy Birthday Sana</span> <span aria-hidden="true">💖</span>
            </h1>
            <p class="sub">You are the reason smiles exist — 3 November</p>
        </div>
    </header>

    <!-- ====== Countdown ====== -->
    <section class="countdown-section" aria-labelledby="countdownTitle">
        <div style="max-width:var(--max-width); width:100%;">
            <h2 id="countdownTitle" style="text-align:center; font-size:1.6rem; margin-bottom:16px;">Countdown to Your Special Day</h2>
            <div class="countdown-container" id="countdown" role="timer" aria-live="polite" aria-atomic="true">
                <!-- JS populates -->
            </div>
        </div>
    </section>

    <!-- Romantic Gallery Section -->
<section id="gallery" style="text-align: center; padding: 60px 20px; background: rgba(255, 255, 255, 0.1); backdrop-filter: blur(6px); border-radius: 20px; margin: 40px auto; width: 90%; max-width: 1000px;">
  <h2 style="font-size: 2em; color: #ff9bb7; margin-bottom: 30px; text-shadow: 0 0 10px rgba(255, 150, 170, 0.7);">
    Beautiful Memories with Sana 💖
  </h2>

  <div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 20px;">
    <img src="images/sana1.jpg" alt="Sana 1" style="width: 220px; height: 280px; object-fit: cover; border-radius: 20px; box-shadow: 0 0 20px rgba(255, 100, 150, 0.5); transition: transform 0.4s ease, box-shadow 0.4s ease;">
    <img src="images/sana2.jpg" alt="Sana 2" style="width: 220px; height: 280px; object-fit: cover; border-radius: 20px; box-shadow: 0 0 20px rgba(255, 100, 150, 0.5); transition: transform 0.4s ease, box-shadow 0.4s ease;">
    <img src="images/sana3.jpg" alt="Sana 3" style="width: 220px; height: 280px; object-fit: cover; border-radius: 20px; box-shadow: 0 0 20px rgba(255, 100, 150, 0.5); transition: transform 0.4s ease, box-shadow 0.4s ease;">
    <img src="images/sana4.jpg" alt="Sana 4" style="width: 220px; height: 280px; object-fit: cover; border-radius: 20px; box-shadow: 0 0 20px rgba(255, 100, 150, 0.5); transition: transform 0.4s ease, box-shadow 0.4s ease;">
  </div>

  <script>
    // Add hover animation effect
    document.querySelectorAll('#gallery img').forEach(img => {
      img.addEventListener('mouseover', () => {
        img.style.transform = 'scale(1.08)';
        img.style.boxShadow = '0 0 30px rgba(255, 180, 200, 0.8)';
      });
      img.addEventListener('mouseout', () => {
        img.style.transform = 'scale(1)';
        img.style.boxShadow = '0 0 20px rgba(255, 100, 150, 0.5)';
      });
    });
  </script>
</section>


    <!-- ====== Romantic Message ====== -->
    <section class="message-section" aria-labelledby="messageTitle">
        <h3 id="messageTitle" style="text-align:center; margin-bottom:12px; font-size:1.2rem;">A Special Message</h3>
        <p class="romantic-message" id="romanticText">You deserve all the happiness in the world, Sana. On your special day, I wish you endless joy, love that fills your heart, and dreams that come true. Happy Birthday, FROM M.FAIZAN 🫶.</p>
    </section>

    <!-- ====== Birthday Wishes ====== -->
    <section class="wishes-section" aria-labelledby="wishesTitle">
        <h2 id="wishesTitle" style="text-align:center; font-size:1.6rem; margin-bottom:16px;">Birthday Wishes</h2>
        <div class="wishes-container">
            <div class="wish-item">
                <div class="wish-author">From Faizan</div>
                <div class="wish-text">Happy birthday to the most amazing person I know! May your day be as beautiful as you are.</div>
            </div>
            <div class="wish-item">
                <div class="wish-author">From Faizan</div>
                <div class="wish-text">Wishing you a day filled with love, laughter, and all the happiness you deserve.!</div>
            </div>
            <div class="wish-item">
                <div class="wish-author">From Faizan</div>
                <div class="wish-text">Happy birthday Sana! Here's to more adventures, laughter, and unforgettable memories together!</div>
            </div>
        </div>
    </section>

    <!-- ====== Gift Button ====== -->
    <section class="gift-section">
        <button class="gift-button" id="giftButton">Open Your Gift</button>
    </section>

    <!-- ====== Popup ====== -->
    <div class="popup" id="popup" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="popupTitle">
        <div class="popup-content" role="document">
            <button class="popup-close" id="popupClose" aria-label="Close popup">&times;</button>
            <h2 id="popupTitle" class="popup-title">For Sana 💝</h2>
            <p class="popup-message">You deserve all the happiness in the world, Sana. On your special day, I wish you endless joy, love that fills your heart, and dreams that come true. You are the most beautiful soul I've ever known.</p>
            <p class="popup-message">This website is my special gift to you - a token of my appreciation for the wonderful person you are. May your birthday be as magical as you make every day for others.</p>
        </div>
    </div>

    <!-- ====== Footer ====== -->
    <footer>
        <p>Made with 💖 for Sana's Special Day</p>
        <p>© 2023 Birthday Celebration</p>
    </footer>

    <!-- ====== Background Music ====== -->
    <audio id="bgMusic" loop preload="none">
        <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
    </audio>

    <script>
        /* ---------- Configuration ---------- */
        const BIRTH_DAY = 3;
        const BIRTH_MONTH = 11; // November (1-indexed for clarity)
        const PETAL_COUNT_DESKTOP = 25;
        const PETAL_COUNT_MOBILE = 10;
        const HEART_COUNT_DESKTOP = 16;
        const HEART_COUNT_MOBILE = 6;
        const BALLOON_COUNT_DESKTOP = 10;
        const BALLOON_COUNT_MOBILE = 4;

        /* Utility: check mobile */
        const isSmallScreen = () => window.matchMedia("(max-width:768px)").matches;

        /* ---------- Create Background Elements ---------- */
        function createPetals() {
            const container = document.getElementById('petals');
            container.innerHTML = '';
            const count = isSmallScreen() ? PETAL_COUNT_MOBILE : PETAL_COUNT_DESKTOP;
            
            for (let i = 0; i < count; i++) {
                const p = document.createElement('div');
                p.className = 'petal';
                const size = Math.random() * 18 + 8;
                p.style.width = `${size}px`;
                p.style.height = `${size}px`;
                p.style.left = `${Math.random() * 100}vw`;
                p.style.top = `${-10 - Math.random() * 20}vh`;
                const dur = (Math.random() * 8 + 12).toFixed(2);
                p.style.animationDuration = `${dur}s`;
                p.style.animationDelay = `${(Math.random() * 6).toFixed(2)}s`;
                p.style.opacity = (0.6 + Math.random() * 0.4).toFixed(2);
                container.appendChild(p);
            }
        }

        function createHearts() {
            const container = document.getElementById('hearts');
            container.innerHTML = '';
            const count = isSmallScreen() ? HEART_COUNT_MOBILE : HEART_COUNT_DESKTOP;
            
            for (let i = 0; i < count; i++) {
                const h = document.createElement('div');
                h.className = 'heart';
                h.innerText = '❤';
                h.style.left = `${Math.random() * 100}vw`;
                h.style.bottom = `${-20 - Math.random() * 40}px`;
                h.style.fontSize = `${14 + Math.random() * 26}px`;
                h.style.animationDelay = `${Math.random() * 6}s`;
                container.appendChild(h);
            }
        }

        function createBalloons() {
            const container = document.getElementById('balloons');
            container.innerHTML = '';
            const count = isSmallScreen() ? BALLOON_COUNT_MOBILE : BALLOON_COUNT_DESKTOP;
            const colors = ['#ff6b6b', '#ffd700', '#ff8e8e', '#ffb6c1'];
            
            for (let i = 0; i < count; i++) {
                const b = document.createElement('div');
                b.className = 'balloon';
                b.style.left = `${Math.random() * 100}vw`;
                b.style.animationDelay = `${Math.random() * 6}s`;
                b.style.animationDuration = `${(12 + Math.random() * 12).toFixed(2)}s`;
                b.style.background = colors[i % colors.length];
                container.appendChild(b);
            }
        }

        /* ---------- Countdown Timer ---------- */
        function updateCountdown() {
            const now = new Date();
            const year = now.getFullYear();
            let target = new Date(year, BIRTH_MONTH - 1, BIRTH_DAY, 0, 0, 0, 0);

            // If birthday already passed this year, pick next year
            if (now > target && !(now.getDate() === BIRTH_DAY && (now.getMonth() + 1) === BIRTH_MONTH)) {
                target = new Date(year + 1, BIRTH_MONTH - 1, BIRTH_DAY, 0, 0, 0, 0);
            }

            const diff = target - now;
            const container = document.getElementById('countdown');

            // If it's today
            if (now.getDate() === BIRTH_DAY && (now.getMonth() + 1) === BIRTH_MONTH) {
                container.innerHTML = `
                    <div class="countdown-item">
                        <div class="countdown-value">Today</div>
                        <div class="countdown-label">is your special day ❤️</div>
                    </div>
                `;
                return;
            }

            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((diff % (1000 * 60)) / 1000);

            container.innerHTML = `
                <div class="countdown-item"><div class="countdown-value">${days}</div><div class="countdown-label">Days</div></div>
                <div class="countdown-item"><div class="countdown-value">${hours}</div><div class="countdown-label">Hours</div></div>
                <div class="countdown-item"><div class="countdown-value">${minutes}</div><div class="countdown-label">Minutes</div></div>
                <div class="countdown-item"><div class="countdown-value">${seconds}</div><div class="countdown-label">Seconds</div></div>
            `;
        }

        /* ---------- Typing Effect ---------- */
        function startTypingEffect() {
            const el = document.getElementById('typedTitle');
            const text = 'Happy Birthday Sana';
            let i = 0;
            el.textContent = '';
            const speed = 80;
            
            function step() {
                if (i < text.length) {
                    el.textContent += text.charAt(i);
                    i++;
                    setTimeout(step, speed);
                } else {
                    // Keep blinking caret by CSS border-right
                }
            }
            step();
        }

        /* ---------- Gift Popup ---------- */
        function setupGiftPopup() {
            const btn = document.getElementById('giftButton');
            const popup = document.getElementById('popup');
            const close = document.getElementById('popupClose');
            
            btn.addEventListener('click', () => {
                popup.classList.add('active');
                popup.setAttribute('aria-hidden', 'false');
                createPopupHearts();
                close.focus();
            });
            
            close.addEventListener('click', closePopup);
            
            // Close on Escape
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') closePopup();
            });
            
            // Close on outside click
            popup.addEventListener('click', (e) => {
                if (e.target === popup) closePopup();
            });

            function closePopup() {
                popup.classList.remove('active');
                popup.setAttribute('aria-hidden', 'true');
                document.getElementById('giftButton').focus();
            }
        }

        function createPopupHearts() {
            const content = document.querySelector('.popup-content');
            content.querySelectorAll('.popup-heart').forEach(n => n.remove());
            
            for (let i = 0; i < 12; i++) {
                const h = document.createElement('div');
                h.className = 'popup-heart';
                h.innerText = '❤';
                h.style.position = 'absolute';
                h.style.left = `${10 + Math.random() * 80}%`;
                h.style.top = `${10 + Math.random() * 70}%`;
                h.style.fontSize = `${12 + Math.random() * 28}px`;
                h.style.opacity = 0;
                h.style.transition = 'transform 900ms cubic-bezier(.16,.8,.36,1), opacity 900ms ease';
                content.appendChild(h);
                
                requestAnimationFrame(() => {
                    h.style.opacity = 1;
                    h.style.transform = `translateY(-40px) scale(1.05)`;
                    setTimeout(() => {
                        h.style.opacity = 0;
                        h.style.transform = `translateY(-120px) scale(.8)`;
                        setTimeout(() => h.remove(), 900);
                    }, 900 + (i * 40));
                });
            }
        }

        /* ---------- Music Control ---------- */
        function setupMusic() {
            const control = document.getElementById('musicControl');
            const bg = document.getElementById('bgMusic');

            function setIconPlaying(playing) {
                control.setAttribute('aria-pressed', playing ? 'true' : 'false');
                control.innerHTML = playing ? `
                    <svg width="22" height="22" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M6 6H10V18H6V6ZM14 6H18V18H14V6Z" fill="#8b0000"/></svg><span class="sr-only">Pause music</span>
                ` : `
                    <svg width="22" height="22" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M12 3V12.26C11.5 12.09 11 12 10.5 12C8.01 12 6 14.01 6 16.5C6 18.99 8.01 21 10.5 21C12.99 21 15 18.99 15 16.5V6H19V3H12Z" fill="#8b0000"/></svg><span class="sr-only">Play music</span>
                `;
            }

            // Toggle on click
            control.addEventListener('click', async () => {
                try {
                    if (bg.paused) {
                        await bg.play();
                        setIconPlaying(true);
                    } else {
                        bg.pause();
                        setIconPlaying(false);
                    }
                } catch (err) {
                    // Autoplay blocked
                    setIconPlaying(false);
                }
            });

            // Try to preload but not autoplay without gesture
            bg.volume = 0.5;
            setIconPlaying(!bg.paused);
        }

        /* ---------- Adjust Decorations on Resize ---------- */
        let resizeTimer = null;
        function onResize() {
            clearTimeout(resizeTimer);
            resizeTimer = setTimeout(() => {
                createPetals();
                createHearts();
                createBalloons();
            }, 250);
        }

        /* ---------- Initialize Everything ---------- */
        window.addEventListener('DOMContentLoaded', () => {
            createPetals();
            createHearts();
            createBalloons();
            updateCountdown();
            setInterval(updateCountdown, 1000);
            startTypingEffect();
            setupGiftPopup();
            setupMusic();
            window.addEventListener('resize', onResize, { passive: true });
            
            // Try to play after first user click
            document.body.addEventListener('click', function playOnce() {
                const bg = document.getElementById('bgMusic');
                if (bg && bg.paused) {
                    bg.play().catch(() => { /* Ignore autoplay block */ });
                }
                document.body.removeEventListener('click', playOnce);
            }, { once: true });
        });
    </script>
</body>
</html>